<div class="container-fluid" id="dashboard" data-ng-controller="inventoryCtrl">

		<div class="row">
	        <div class="col-xs-12 col-sm-8 col-md-offset-2" >
	        	<div class="panel panel-default">
	        		
	        			<div class="panel-heading"> <h2>Add/Update Stock</h2>
	
	               		 </div>
	               	<div class="panel-body" ng-show="addStockInfo">	 
	                    <form class="form-horizontal" role="form" name="productStock">
	                    
	                    	<div class="form-group">
	                            <label for="agencyName" class="col-sm-3 control-label">Agency Name</label>
	                            <div class="col-sm-4" ng-show="compType==1">
	                                <select  class="form-control" ng-model="stock.agencyId" placeholder="Agency Name"
	                                	 ng-options="agency.agencyId as agency.agencyName for agency in agencyList | orderBy:'name'" 
   									 ng-change="populateProduct()"> 
	                                	<!--  <option data-ng-repeat="agency in agencyList" id = "{{agency.agencyId}}" >{{agency.agencyName}}</option>-->
	                                </select>
	                            </div>
	                            <div class="col-sm-4" ng-show="compType==2">
	                                <select  class="form-control" ng-model="stock.medicineAgencyId" placeholder="Agency Name"
	                                	 ng-options="agency.agencyId as agency.agencyName for agency in agencyList | orderBy:'name'" 
   									 ng-change="populateProduct()"> 
	                                	<!--  <option data-ng-repeat="agency in agencyList" id = "{{agency.agencyId}}" >{{agency.agencyName}}</option>-->
	                                </select>
	                            </div>
	                        </div>
	                        <div class="form-group">
	                            <label for="productName" class="col-sm-3 control-label">Product Name</label>
	                            <div class="col-sm-4">
	                                <select  class="form-control" ng-model="stock.productId" placeholder="Agency Name" 
	                                	ng-options="product.productId as product.productName for product in productList | orderBy:'name'" 
   									 ng-change="update(product.agencyId)">
	                                </select>
	                            </div>
	                        </div>
	                        <div class="form-group">
	                            <label for="quantity" class="col-sm-3 control-label">Total Quantity </label>
	                            <div class="col-sm-3">
	                                {{stock.quantity}}
	                            </div>
	                        </div>
	                         <div class="form-group">
	                            <label for="quantity" class="col-sm-3 control-label">Quantity To Add</label>
	                            <div class="col-sm-3">
	                                 <input type="text" class="form-control" ng-model="quantityToAdd" placeholder="Add Qunatity" maxlength = "5" name="quan" required  numbers-only="numbers-only"/>
	                            </div>
	                            <span class="error" ng-show="productStock.quan.$dirty && productStock.quan.$invalid">
								<span ng-show="productStock.quan.$error.required"> Quantity is required</span></span>
	                        </div>
	                        <div class="form-group" ng-show="editStockInfo">
	                            <label for="quantity" class="col-sm-3 control-label">Quantity To Remove</label>
	                            <div class="col-sm-3">
	                                 <input type="text" class="form-control" ng-model="quantityToRemove" placeholder="Remove Quantity" maxlength = "5"  value = "0" name="qtnToRemove" required  numbers-only="numbers-only"/>
	                            </div>
	                            <span class="error" ng-show="productStock.qtnToRemove.$dirty && productStock.qtnToRemove.$invalid">
								<span ng-show="productStock.qtnToRemove.$error.required"> Quantity to remove  is required</span></span>
	                        </div>
	                        <div ng-show="compType==1">
		                        <div class="form-group">
		                            <label for="price" class="col-sm-3 control-label">Cost Price(Per Sack) Rs</label>
		                            <div class="col-sm-3">
		                                 <input type="text" class="form-control" ng-model="stock.costPrice" placeholder="Cost Price" maxlength = "10"  name="costPrice" required  />
		                            </div>
		                            <span class="error" ng-show="productStock.costPrice.$dirty && productStock.costPrice.$invalid">
									<span ng-show="productStock.costPrice.$error.required"> Cost price is required</span></span>
		                        </div>
		                        <div class="form-group">
		                            <label for="price" class="col-sm-3 control-label">Selling Price(Per Sack) Rs</label>
		                            <div class="col-sm-3">
		                                 <input type="text" class="form-control" ng-model="stock.sellingPrice" placeholder="Selling Price" maxlength = "10" name="sellingPrice" required  />
		                            </div>
		                            <span class="error" ng-show="productStock.sellingPrice.$dirty && productStock.sellingPrice.$invalid">
									<span ng-show="productStock.sellingPrice.$error.required"> Selling price is required</span></span>
		                        </div>
	                        </div>
	                        <div ng-show="compType==2">
		                        <div class="form-group">
		                            <label for="price" class="col-sm-3 control-label">Unit Cost Price Rs</label>
		                            <div class="col-sm-3">
		                                 <input type="text" class="form-control" ng-model="stock.costPrice" placeholder="Cost Price" maxlength = "10"  name="costPrice" required  />
		                            </div>
		                            <span class="error" ng-show="productStock.costPrice.$dirty && productStock.costPrice.$invalid">
									<span ng-show="productStock.costPrice.$error.required"> Cost price is required</span></span>
		                        </div>
		                        <div class="form-group">
		                            <label for="price" class="col-sm-3 control-label">Unit Selling Price Rs</label>
		                            <div class="col-sm-3">
		                                 <input type="text" class="form-control" ng-model="stock.sellingPrice" placeholder="Selling Price" maxlength = "10" name="sellingPrice" required  />
		                            </div>
		                            <span class="error" ng-show="productStock.sellingPrice.$dirty && productStock.sellingPrice.$invalid">
									<span ng-show="productStock.sellingPrice.$error.required"> Selling price is required</span></span>
		                        </div>
		                        <label for="date" class="col-sm-3 control-label">Expiary Date</label>
	                            <div class="col-sm-3 ">
    									<div class="input-group">
    									<mydatepicker data-ng-model="stock.expiryDate" date-options="dateOptions" opened="opened"/>
    									</div>
    									
	                             </div>
	                        </div>
	                        <div class="form-group">
	                            <label for="date" class="col-sm-3 control-label">Arrival Date</label>
	                            <div class="col-sm-3 ">
    									<div class="input-group">
    									<mydatepicker data-ng-model="stock.arrivalDate" date-options="dateOptions" opened="opened"/>
    									</div>
    									
	                             </div>
	                        </div>
	                       
	                        <div class="form-group last">
	                            <div class="col-sm-offset-3 col-sm-6" >
	                            	<button type="button" class="btn btn-default btn-md" ng-click="addStockInfo=!addStockInfo" title="Back"><span class="glyphicon glyphicon-arrow-left"></span></button>
	                                <button type="submit" class="btn btn-success btn-sm" ng-click="saveProductStock()">Update</button>
	                                <button type="reset" class="btn btn-default btn-sm">Reset</button>
	                            </div>
	                        </div>
	                    </form>
	                    </div>
	                    
	                    <div class="panel-body" ng-show="!addStockInfo"> 
	                    	<div class="table-responsive" style="overflow-x: auto;"> 
	                    		<table   class="table table-striped table-hover">
	                    			<tr>
	                    				<th ng-click="sort('inventory_agency_name')">Agency Name
	                    					<span class="glyphicon sort-icon" ng-show="sortKey=='inventory_agency_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> 
	                    				</th>
	                    				<th ng-click="sort('inventory_product_name')">Product Name
	                    					<span class="glyphicon sort-icon" ng-show="sortKey=='inventory_product_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> 
	                    				</th>
	                    				<th>Quantity</th>
	                    				<th>Cost Price(Rs.)</th>
	                    				<th>Selling Price(Rs.)</th>
	                    				<th ng-show="compType==2">Expiry Date</th>
	                    				<th>Arrival Date</th>
	                    				<th>Updated By</th>
	                    				<th>Updated On</th>
	                    				<th ng-show="role=='Admin'">Actions</th>
	                    		 	</tr>
	                    		 	<tr dir-paginate="stock in stockList|orderBy:sortKey:reverse|itemsPerPage:6">
	                    		 		<td ng-show="compType==1">{{stock.agencyDetail.agencyName}}</td>
	                    		 		<td ng-show="compType==2">{{stock.medicineAgencyDetail.agencyName}}</td>
	                    		 		<td>{{stock.productDetail.productName}}</td>
	                    		 		<td>{{stock.quantity}}</td>
	                    		 		<td>{{stock.costPrice}} </td>
	                    		 		<td>{{stock.sellingPrice}}</td>
	                    		 		<td ng-show="compType==2">{{stock.expiryDate | date:'MM/dd/yyyy'}}</td>
	                    		 		<td>{{stock.arrivalDate | date:'MM/dd/yyyy'}}</td>
	                    		 		<td>{{stock.updBy}}</td>
	                    		 		<td>{{stock.updOn | date:'MM/dd/yyyy'}}</td>
	                    		 		<td ng-show="role=='Admin'"><a href="" title="Edit"><span class="glyphicon glyphicon-pencil" ng-click="editStock(stock);editStockInfo=!editStockInfo;"></span> </a> <a href="" title="Delete"><span class="glyphicon glyphicon-trash"  ng-click="deleteStock(stock)"></span></a>
	                    		 		<a href="" title="Print"><span class="glyphicon glyphicon-print"  ng-click="printStock(stock)"></span></a></td>
	                    		 	
	                    		 	</tr>
	                    		</table>
	                    	</div>	
	                    	<div class="col-xs-12">
		                    	<div class="col-sm-6">	
				                    	 <dir-pagination-controls max-size="6" direction-links="true" boundary-links="true" >
									    </dir-pagination-controls>
								</div>	    	
	                    	 <div class="col-sm-offset-3 pull-right" ng-show="role=='Admin'">
	                                <button type="submit" class="btn btn-success btn-sm" ng-click="addStock();addStockInfo=!addStockInfo">Add Product Stock</button>
	                         </div>
	                    	</div>
	                    
	                    </div>
	                    </div>
	        
	        </div>
	  </div>      
		
			
</div>	        	